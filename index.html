<!DOCTYPE html>
<html lang="it">
  <head>
    <!-- ... (stile CSS invariato) ... -->
  </head>
  <body>
    <!-- ... (HTML invariato) ... -->

    <script>
      const parole = [ /* ... (array parole invariato) ... */ ];

      // Funzioni modificate per il controllo della velocità
      async function speakWord(word) {
        return new Promise(resolve => {
          const msg = new SpeechSynthesisUtterance(word);
          msg.lang = 'it-IT';
          msg.rate = 0.6; // Rallentato solo per la parola
          msg.onend = resolve;
          window.speechSynthesis.speak(msg);
        });
      }

      async function speakSpelling(word) {
        return new Promise(resolve => {
          const spelling = word.split('').join('-');
          const msg = new SpeechSynthesisUtterance(spelling);
          msg.lang = 'it-IT';
          msg.rate = 0.5; // Rallentato solo per lo spelling
          msg.onend = resolve;
          window.speechSynthesis.speak(msg);
        });
      }

      function speakNormal(text) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'it-IT';
        msg.rate = 0.8; // Velocità normale per i messaggi
        window.speechSynthesis.speak(msg);
      }

      async function newRound() {
        window.speechSynthesis.cancel();
        feedbackImage.style.display = "none";
        
        const correctWord = getRandomWord();
        let wrongWord = getRandomWord();
        
        while(wrongWord === correctWord) {
          wrongWord = getRandomWord();
        }

        const options = [correctWord, wrongWord].sort(() => Math.random() - 0.5);

        optionsDiv.innerHTML = '';
        options.forEach(word => {
          const btn = document.createElement("div");
          btn.classList.add("option");
          btn.textContent = word;
          btn.onclick = () => checkAnswer(word, correctWord);
          optionsDiv.appendChild(btn);
        });

        // Sequenza di pronuncia modificata
        speakNormal("Trova la parola..."); // Velocità normale
        await speakWord(correctWord);       // Rallentato
        await speakSpelling(correctWord);   // Rallentato
      }

      async function checkAnswer(selectedWord, correctWord) {
        window.speechSynthesis.cancel();
        
        if(selectedWord === correctWord) {
          speakNormal("Bravo! Hai indovinato!"); // Velocità normale
          feedbackImage.src = `https://cataas.com/cat?timestamp=${Date.now()}`;
          feedbackImage.style.display = "block";
          setTimeout(newRound, 3000);
        } else {
          speakNormal(`Attenzione! Hai scelto ${selectedWord}`); // Velocità normale
          await speakWord(correctWord);    // Rallentato
          await speakSpelling(correctWord);// Rallentato
        }
      }

      // ... (resto del codice invariato)
    </script>
  </body>
</html>
